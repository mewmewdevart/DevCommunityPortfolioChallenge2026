const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MemoryCardScreen-C10cte8u.js","assets/vendor-CGXhCyq3.js","assets/i18n-CjG_VPcn.js","assets/game-mcjZzpRD.js","assets/game-BBWB84E0.css","assets/index-D7J6vo6v.js","assets/index-Dxg-T0a9.css","assets/MemoryCardScreen-DnFvckHY.css"])))=>i.map(i=>d[i]);
import{_ as b}from"./i18n-CjG_VPcn.js";import{R as t,r as d,j as e}from"./vendor-CGXhCyq3.js";import{u as R,c as E,V as x}from"./game-mcjZzpRD.js";const I=new Set(x.HIDDEN_INDICES),S=()=>{const o=["var(--blue-500)","var(--blue-700)","var(--blue-900)","var(--dark-500)","var(--dark-600)"];return o[Math.floor(Math.random()*o.length)]},{BOX_COUNT:D}=x,y=t.lazy(()=>b(()=>import("./MemoryCardScreen-C10cte8u.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),C=({onBack:o})=>{const{t:f}=R(),{playSfx:g}=E(),l=t.useRef(null),p=t.useRef(void 0),a=t.useRef(void 0),m=t.useRef(0),[n,_]=d.useState(!1),[u]=d.useState(()=>{const r=[];for(let s=0;s<D;s++)r.push({id:s,color:S(),isHidden:I.has(s)});return r});t.useEffect(()=>{g("game_ps2_startup");const r=setTimeout(()=>{g("game_ps2_title")},10800),v=setTimeout(()=>{_(!0)},14e3);return()=>{clearTimeout(v),clearTimeout(r)}},[]);const i=t.useRef(null),c=t.useCallback(r=>{if(n)return;if(a.current===void 0){i.current&&(a.current=requestAnimationFrame(i.current));return}const s=r-(p.current??r);if(p.current=r,document.visibilityState==="visible"&&l.current){const h=.2*(s/16.67);m.current+=h;const v=60+Math.sin(m.current*.01)*10,N=m.current;l.current.style.transform=`translate(-50%, -50%) rotateX(${v}deg) rotateZ(${N}deg)`}i.current&&(a.current=requestAnimationFrame(i.current))},[n]);t.useEffect(()=>{i.current=c},[c]),t.useEffect(()=>(n?a.current&&cancelAnimationFrame(a.current):a.current=requestAnimationFrame(c),()=>{a.current&&cancelAnimationFrame(a.current)}),[c,n]);const j=d.useMemo(()=>u.map(r=>`
      .videogame-box-${r.id} {
        background-color: ${r.color};
      }
    `).join(""),[u]);return n?e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"videogame-screen__loader"}),children:e.jsx(y,{onBack:o})}):e.jsxs("main",{className:"videogame-screen",children:[e.jsx("style",{children:j}),e.jsxs("header",{className:"videogame-content",children:[e.jsx("p",{className:"videogame-copyright",children:f("videogame_copyright")}),e.jsxs("h1",{className:"videogame-branding",children:[f("videogame_branding"),e.jsx("span",{className:"videogame-branding-small",children:"®"})," 2"]})]}),e.jsxs("div",{className:"videogame-scene",ref:l,children:[e.jsx("div",{className:"videogame-nebula"}),e.jsxs("div",{className:"videogame-particles",children:[e.jsx("span",{className:"videogame-particle videogame-particle--red"}),e.jsx("span",{className:"videogame-particle videogame-particle--green"}),e.jsx("span",{className:"videogame-particle videogame-particle--blue"})]}),u.map(r=>e.jsx("div",{className:`videogame-box videogame-box-${r.id} ${r.isHidden?"videogame-box--hidden":""}`},r.id))]})]})};export{C as VideoGame,C as default};
